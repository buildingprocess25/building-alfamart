<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Estimasi Rencana Anggaran Biaya - Alfamart</title>
    <link rel="icon" href="/Assets/favicon.ico" type="image/x-icon">
    <script>
      // Security Check
      const isAuthenticated = sessionStorage.getItem('authenticated');
      const userRole = sessionStorage.getItem('userRole');

      if (!isAuthenticated) {
        // Jika belum login, simpan tujuan & alihkan ke halaman login
          sessionStorage.setItem('redirectTo', window.location.pathname);
          window.location.href = '/login.html'; 
      } else if (userRole !== 'KONTRAKTOR') {
          // Jika sudah login tapi jabatan salah, beri peringatan & alihkan ke homepage
          alert('Anda tidak memiliki izin untuk mengakses halaman ini.');
          window.location.href = '/';
      }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  </head>
  <body>
    <header>
      <a href="/">
        <img
          src="../Assets/Alfamart-Emblem.png"
          alt="Alfamart Logo"
          class="header-logo"
        />
      </a>
      <h1>Form Estimasi Rencana Anggaran Biaya</h1>
      <button id="logout-button-form" class="btn-logout-form">Logout</button>
    </header>

    <div class="container">
      <form id="form" class="form-container">
        <label for="nama_toko">Nama Toko:</label>
        <input
          type="text"
          id="nama_toko"
          name="Nama_Toko"
          placeholder="Masukkan nama toko"
          required
          style="margin-bottom: 15px"
        />
        <label for="lokasi_cabang">Nomor Ulok:</label>
        <div
          id="nomor-ulok-container"
          style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap"
        >
          <select id="lokasi_cabang" required style="flex: 1 1 80px">
            <option value="">-- Kode --</option>
          </select>
          <span style="font-weight: bold">-</span>
          <input
            type="text"
            id="lokasi_tanggal"
            placeholder="YYMM"
            maxlength="4"
            oninput="this.value = this.value.replace(/[^0-9]/g, '')"
            required
            style="flex: 1 1 80px"
          />
          <span style="font-weight: bold">-</span>
          <input
            type="text"
            id="lokasi_manual"
            placeholder="xxxx"
            maxlength="4"
            oninput="this.value = this.value.replace(/[^0-9]/g, '')"
            required
            style="flex: 1 1 80px"
          />
        </div>
        <input type="hidden" id="lokasi" name="Nomor Ulok" />
        <label for="proyek">Proyek:</label>
        <select name="Proyek" id="proyek" required>
          <option value="">-- Pilih Jenis Proyek --</option>
          <option value="Alfamart Reguler">Reguler</option>
          <option value="Franchise">Franchise</option>
        </select>

        <label for="alamat">Alamat:</label>
        <input
          type="text"
          id="alamat"
          name="Alamat"
          placeholder="Masukkan alamat lengkap proyek"
          required
        />

        <label for="cabang">Cabang:</label>
        <select name="Cabang" id="cabang" required>
          <option value="">-- Cabang Terisi Otomatis --</option>
        </select>

        <label for="lingkup_pekerjaan">Lingkup Pekerjaan:</label>
        <select name="Lingkup_Pekerjaan" id="lingkup_pekerjaan" required>
          <option value="">-- Pilih Lingkup Pekerjaan --</option>
          <option value="Sipil">Sipil</option>
          <option value="ME">ME</option>
        </select>

        <label for="luas_bangunan">Luas Bangunan (m²):</label>
        <input
          type="text"
          inputmode="decimal"
          id="luas_bangunan"
          name="Luas Bangunan"
          placeholder="Masukan Luas Bangunan (e.g., 50.25)"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1').replace(/(\.\d{2})\d+/, '$1')"
          required
        />

        <label for="luas_terbangunan">Luas Terbangunan (m²):</label>
        <input
          type="text"
          inputmode="decimal"
          id="luas_terbangunan"
          name="Luas Terbangunan"
          placeholder="Masukan Luas Terbangunan (e.g., 45.50)"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1').replace(/(\.\d{2})\d+/, '$1')"
          required
        />

        <label for="luas_area_terbuka">Luas Area Terbuka (m²):</label>
        <input
          type="text"
          inputmode="decimal"
          id="luas_area_terbuka"
          name="Luas Area Terbuka"
          placeholder="Masukan Luas Area Terbuka (e.g., 20.00)"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1').replace(/(\.\d{2})\d+/, '$1')"
          required
        />

        <label for="luas_area_parkir">Luas Area Parkir (m²):</label>
        <input
          type="text"
          inputmode="decimal"
          id="luas_area_parkir"
          name="Luas Area Parkir"
          placeholder="Masukan Luas Area Parkir (e.g., 20.00)"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1').replace(/(\.\d{2})\d+/, '$1')"
          required
        />

        <label for="luas_area_sales">Luas Area Sales (m²):</label>
        <input
          type="text"
          inputmode="decimal"
          id="luas_area_sales"
          name="Luas Area Sales"
          placeholder="Masukan Luas Area Sales (e.g., 30.75)"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1').replace(/(\.\d{2})\d+/, '$1')"
          required
        />

        <label for="luas_gudang">Luas Gudang (m²):</label>
        <input
          type="text"
          inputmode="decimal"
          id="luas_gudang"
          name="Luas Gudang"
          placeholder="Masukan Luas Gudang (e.g., 15.20)"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1').replace(/(\.\d{2})\d+/, '$1')"
          required
        />

        <div class="all-tables-container">
          <div id="sipil-tables-wrapper" class="hidden">
            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN PERSIAPAN
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN PERSIAPAN"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN PERSIAPAN"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Persiapan
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN BOBOKAN / BONGKARAN
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN BOBOKAN / BONGKARAN"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN BOBOKAN / BONGKARAN"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Bobokan / Bongkaran
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN TANAH
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN TANAH"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN TANAH"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Tanah
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN PONDASI & BETON
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN PONDASI & BETON"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN PONDASI & BETON"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Pondasi & Beton
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN PASANGAN
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN PASANGAN"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN PASANGAN"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Pasangan
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN BESI
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN BESI"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN BESI"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Besi
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN KERAMIK
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN KERAMIK"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN KERAMIK"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Keramik
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN PLUMBING
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN PLUMBING"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN PLUMBING"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Plumbing
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN SANITARY & ACECORIES
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN SANITARY & ACECORIES"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN SANITARY & ACECORIES"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Sanitary & Acecories
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN Janitor
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN JANITOR"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN JANITOR"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Janitor
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN ATAP
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN ATAP"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN ATAP"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Atap
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN KUSEN, PINTU & KACA
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN KUSEN, PINTU & KACA"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN KUSEN, PINTU & KACA"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Kusen, Pintu & Kaca
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN FINISHING
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN FINISHING"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN FINISHING"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Finishing
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN BEANSPOT
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN BEANSPOT"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN BEANSPOT"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Beanspot
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN TAMBAHAN
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN TAMBAHAN"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN TAMBAHAN"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan Tambahan
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN SBO
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN SBO"
                  data-scope="Sipil"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN SBO"
              data-scope="Sipil"
            >
              Tambah Item Pekerjaan SBO
            </button>
          </div>

          <div id="me-tables-wrapper" class="hidden">
            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              INSTALASI
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="INSTALASI"
                  data-scope="ME"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="INSTALASI"
              data-scope="ME"
            >
              Tambah Item Pekerjaan Instalasi
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              FIXTURE
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="FIXTURE"
                  data-scope="ME"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="FIXTURE"
              data-scope="ME"
            >
              Tambah Item Pekerjaan Fixture
            </button>

            <h2 class="text-lg font-semibold mt-6 mb-2 section-title">
              PEKERJAAN SBO
            </h2>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th rowspan="2">No</th>
                    <th rowspan="2">Jenis Pekerjaan</th>
                    <th rowspan="2">Satuan</th>
                    <th colspan="1">Volume</th>
                    <th colspan="2">Harga Satuan (Rp)</th>
                    <th colspan="2">Total Harga Satuan (Rp)</th>
                    <th colspan="1">Total Harga (Rp)</th>
                    <th rowspan="2">Aksi</th>
                  </tr>
                  <tr>
                    <th>a</th>
                    <th>Material<br />(b)</th>
                    <th>Upah<br />(c)</th>
                    <th>Material<br />(d = a × b)</th>
                    <th>Upah<br />(e = a × c)</th>
                    <th>(f = d + e)</th>
                  </tr>
                </thead>
                <tbody
                  class="boq-table-body"
                  data-category="PEKERJAAN SBO"
                  data-scope="ME"
                ></tbody>
                <tfoot>
                  <tr>
                    <td
                      colspan="8"
                      style="text-align: right; font-weight: bold"
                    >
                      Sub Total:
                    </td>
                    <td
                      class="sub-total-amount"
                      style="font-weight: bold; text-align: center"
                    >
                      Rp 0
                    </td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
            </div>
            <button
              type="button"
              class="add-row-btn"
              data-category="PEKERJAAN SBO"
              data-scope="ME"
            >
              Tambah Item Pekerjaan SBO
            </button>
          </div>
        </div>

        <div class="mt-6 p-4 grand-total-box">
          <span class="text-lg font-bold">Grand Total Estimasi Biaya:</span>
          <span id="grand-total-amount" class="text-xl font-extrabold ml-4"
            >Rp 0</span
          >
        </div>

        <div class="button-group">
          <button type="submit" id="submit-button">Kirim</button>
          <button type="reset">Ulang</button>
        </div>
      </form>

      <a href="/" class="back-btn">← Kembali ke Beranda</a>
    </div>

    <div id="message" role="status" aria-live="polite"></div>

    <script src="script.js"></script>
    <script>
      document.getElementById('logout-button-form').addEventListener('click', () => {
            sessionStorage.clear();
            window.location.href = '/'; // Arahkan ke homepage
        });
      function initializeSelect2(selector) {
        $(selector).select2({
            width: '100%' // Pastikan lebar dropdown sesuai dengan kolom
            });
    }
    </script>
  </body>
</html>
